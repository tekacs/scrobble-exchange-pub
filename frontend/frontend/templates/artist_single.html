{% extends "base.html" %}

{% load static %}
{% load extras %}

{% block title %}{{artist_SE.artist.name}}{% endblock title %}

{% block above_main %}
    <h1 class="artist-name">{{artist_SE.artist.name}}</h1> 
    <nav>
        <ul>
            <li><a href="#">Tracks</a></li>
            <li><a href="#">Albums</a></li>
            <li><a href="#">Pictures</a></li>
            <li><a href="#">Videos</a></li>
            <li><a href="#">Events</a></li>
            <li><a href="#">Biography</a></li>
            <li><a href="#">More...</a></li>
        </ul>
    </nav>  
{% endblock above_main %}
    
{% block main %}	
	<div id="chart_container">
		<div id="y_axis"></div>
		<div style="overflow: visible;">
		  <div id="dividendChart"></div>
		</div>

		<div style="overflow: visible;">
		  <div id="priceChart"></div>
		</div>
	</div>

    <p class="artist-bio">
        {{artist_SE.artist.bio.summary|safe}}
        <!-- TODO: read more link for full bio -->
    <p>

    <h3 class="artist-subheader">Similar Artists</h3>
    {% for similar_artist in artist_SE.artist.similar %}
        <a href="/artist/{{ similar_artist.name|urlencode }}">
            <div class="artist-img" style="background-image: url('{{ similar_artist.imgurls|get_image:'mega' }}');">
                <div class="text-over-image bottom">
                    <span class="primary">{{ similar_artist.name|truncatechars:15 }}</span>
                </div>
            </div>
        </a>
    {% endfor %}
{% endblock main %}

{% block sidebar %}
    <h2 class="sidebar-price-header">Current market price:</h2>
    <p class="sidebar-price">$25,051</p>
    
    {% if artist_SE.ownedby %}
        <a class="button" id="sell-button" href="#">Sell</a>
    {% else %}
        <a class="button" id="buy-button" href="#">Buy</a>
    {% endif %}

{% endblock sidebar %}

{% block body_additional_html %}
    {% include "buy_sell_modal.html" %}
{% endblock body_additional_html %}

{% block body_additional_js %}
    <script type="text/javascript" src="{% static "js/artist.js" %}"></script>
	<script type="text/javascript">
		Artist.name = '{{artist_SE.artist.name}}';
		Artist.drawGraph();
	</script>
{% endblock body_additional_js %}

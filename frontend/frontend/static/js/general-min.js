/*!
 * typeahead.js 0.8.1
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */(function(){var e="0.8.1",t={isMsie:function(){return/msie [\w.]+/i.test(navigator.userAgent)},isString:function(e){return typeof e=="string"},isNumber:function(e){return typeof e=="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:function(e){return e===Object(e)},isUndefined:function(e){return typeof e=="undefined"},bind:$.proxy,bindAll:function(e){var n;for(var r in e)t.isFunction(n=e[r])&&(e[r]=$.proxy(n,e))},indexOf:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},each:$.each,map:$.map,filter:function(e,t){var n=[];$.each(e,function(r,i){t(i,r,e)&&n.push(i)});return n},every:function(e,t){var n=!0;if(!e)return n;$.each(e,function(r,i){if(!(n=t.call(null,i,r,e)))return!1});return!!n},mixin:$.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),debounce:function(e,t,n){var r,i;return function(){var s=this,o=arguments,u,a;u=function(){r=null;n||(i=e.apply(s,o))};a=n&&!r;clearTimeout(r);r=setTimeout(u,t);a&&(i=e.apply(s,o));return i}},throttle:function(e,t){var n,r,i,s,o,u;o=0;u=function(){o=new Date;i=null;s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);n=this;r=arguments;if(f<=0){clearTimeout(i);i=null;o=a;s=e.apply(n,r)}else i||(i=setTimeout(u,f));return s}},uniqueArray:function(e){var t={},n=[];for(var r=0,i=e.length;r<i;++r){if(t.hasOwnProperty(e[r]))continue;n.push(e[r]);t[e[r]]=1}return n},tokenizeQuery:function(e){return $.trim(e).toLowerCase().split(/[\s]+/)},tokenizeText:function(e){return $.trim(e).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},n=function(){var e=/\s+/;return{on:function(t,n){var r;if(!n)return this;this._callbacks=this._callbacks||{};t=t.split(e);while(r=t.shift()){this._callbacks[r]=this._callbacks[r]||[];this._callbacks[r].push(n)}return this},trigger:function(t,n){var r,i;if(!this._callbacks)return this;t=t.split(e);while(r=t.shift())if(i=this._callbacks[r])for(var s=0;s<i.length;s+=1)i[s].call(this,{type:r,data:n});return this}}}(),r=function(){function r(e){this.prefix=["__",e,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function s(e){return JSON.stringify(t.isUndefined(e)?null:e)}function o(e){return JSON.parse(e)}var e=window.localStorage,n;window.localStorage&&window.JSON?n={_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(t){this.isExpired(t)&&this.remove(t);return o(e.getItem(this._prefix(t)))},set:function(n,r,o){t.isNumber(o)?e.setItem(this._ttlKey(n),s(i()+o)):e.removeItem(this._ttlKey(n));return e.setItem(this._prefix(n),s(r))},remove:function(t){e.removeItem(this._ttlKey(t));e.removeItem(this._prefix(t));return this},clear:function(){var t,n,r=[],i=e.length;for(t=0;t<i;t++)(n=e.key(t)).match(this.keyMatcher)&&r.push(n.replace(this.keyMatcher,""));for(t=r.length;t--;)this.remove(r[t]);return this},isExpired:function(n){var r=o(e.getItem(this._ttlKey(n)));return t.isNumber(r)&&i()>r?!0:!1}}:n={get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop};t.mixin(r.prototype,n);return r}(),i=function(){function e(e){t.bindAll(this);e=e||{};this.sizeLimit=e.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}t.mixin(e.prototype,{get:function(e){return this.cache[e]},set:function(e,t){var n;if(this.cachedKeysByAge.length===this.sizeLimit){n=this.cachedKeysByAge.shift();delete this.cache[n]}this.cache[e]=t;this.cachedKeysByAge.push(e)}});return e}(),s=function(){function e(e){var n;t.bindAll(this);e=e||{};n=/^throttle$/i.test(e.rateLimitFn)?t.throttle:t.debounce;this.wait=e.wait||300;this.wildcard=e.wildcard||"%QUERY";this.maxConcurrentRequests=e.maxConcurrentRequests||6;this.concurrentRequests=0;this.onDeckRequestArgs=null;this.cache=new i;this.get=n(this.get,this.wait)}t.mixin(e.prototype,{_incrementConcurrentRequests:function(){this.concurrentRequests++},_decrementConcurrentRequests:function(){this.concurrentRequests--},_belowConcurrentRequestsThreshold:function(){return this.concurrentRequests<this.maxConcurrentRequests},get:function(e,t,n){var r=this,i;e=e.replace(this.wildcard,encodeURIComponent(t||""));(i=this.cache.get(e))?n&&n(i):this._belowConcurrentRequestsThreshold()?$.ajax({url:e,type:"GET",dataType:"json",beforeSend:function(){r._incrementConcurrentRequests()},success:function(t){n&&n(t);r.cache.set(e,t)},complete:function(){r._decrementConcurrentRequests();if(r.onDeckRequestArgs){r.get.apply(r,r.onDeckRequestArgs);r.onDeckRequestArgs=null}}}):this.onDeckRequestArgs=[].slice.call(arguments,0)}});return e}(),o=function(){function n(e){t.bindAll(this);this.storage=new r(e.name);this.adjacencyList={};this.itemHash={};this.name=e.name;this.resetDataOnProtocolSwitch=e.resetDataOnProtocolSwitch||!1;this.queryUrl=e.remote;this.transport=e.transport;this.limit=e.limit||10;this._customMatcher=e.matcher||null;this._customRanker=e.ranker||null;this._ttl_ms=e.ttl_ms||2592e5;this.keys={version:"version",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};e.local&&this._processLocalData(e.local);e.prefetch&&this._loadPrefetchData(e.prefetch)}t.mixin(n.prototype,{_processLocalData:function(e){e&&this._mergeProcessedData(this._processData(e))},_loadPrefetchData:function(n){function f(n){var i=r._processData(n),s=i.itemHash,o=i.adjacencyList;r.storage.set(r.keys.itemHash,s,r._ttl_ms);r.storage.set(r.keys.adjacencyList,o,r._ttl_ms);r.storage.set(r.keys.version,e,r._ttl_ms);r.storage.set(r.keys.protocol,t.getProtocol(),r._ttl_ms);r._mergeProcessedData(i)}var r=this,i=this.storage.get(this.keys.itemHash),s=this.storage.get(this.keys.adjacencyList),o=this.storage.get(this.keys.protocol),u=this.storage.get(this.keys.version),a=u!==e||o!==t.getProtocol();i&&s&&!a?this._mergeProcessedData({itemHash:i,adjacencyList:s}):$.getJSON(n).done(f)},_processData:function(e){var n={},r={};t.each(e,function(e,i){var s;t.isString(i)&&(i={value:i,tokens:t.tokenizeText(i)});i.tokens=t.map(i.tokens||[],function(e){return e.toLowerCase()});n[s=t.getUniqueId(i.value)]=i;t.each(i.tokens,function(e,n){var i=n.charAt(0),o=r[i]||(r[i]=[s]);!~t.indexOf(o,s)&&o.push(s)})});return{itemHash:n,adjacencyList:r}},_mergeProcessedData:function(e){var n=this;t.mixin(this.itemHash,e.itemHash);t.each(e.adjacencyList,function(e,t){var r=n.adjacencyList[e];n.adjacencyList[e]=r?r.concat(t):t})},_getPotentiallyMatchingIds:function(e){var n=[],r=[];t.map(e,t.bind(function(e){var t=this.adjacencyList[e.charAt(0)];if(!t)return;r.push(t)},this));if(r.length===1)return r[0];var i=[];$.each(r,function(e,t){i.push(t.length)});var s=t.indexOf(i,Math.min.apply(null,i))||0,o=r[s]||[];n=t.map(o,function(e){var n=t.every(r,function(n){return t.indexOf(n,e)>-1});if(n)return e});return n},_getItemsFromIds:function(e){var n=[];t.map(e,t.bind(function(e){var t=this.itemHash[e];t&&n.push(t)},this));return n},_matcher:function(e){if(this._customMatcher){var n=this._customMatcher;return function(e){return n(e)}}return function(n){var r=n.tokens,i=t.every(e,function(e){var n=t.filter(r,function(t){return t.indexOf(e)===0});return n.length});if(i)return n}},_compareItems:function(e,t,n){var r=e.score_boost?e.score_boost:0,i=t.score_boost?t.score_boost:0,s=e.score?e.score:0,o=t.score?t.score:0;return n?t.weight+i-(e.weight+r):o+i-(s+r)},_ranker:function(e,t){if(this._customRanker)return this._customRanker(e,t);var n=e.weight&&e.weight!==0,r=t.weight&&t.weight!==0;return n&&!r?-1:r&&!n?1:n&&r?this._compareItems(e,t,!0):this._compareItems(e,t,!1)},_processRemoteSuggestions:function(e,n){var r=this;return function(i){t.each(i,function(e,i){var s=!1;i=t.isString(i)?{value:i}:i;t.each(n,function(e,t){if(i.value===t.value){s=!0;return!1}});!s&&n.push(i);return n.length<r.limit});e&&e(n)}},getSuggestions:function(e,n){var r=t.tokenizeQuery(e),i=this._getPotentiallyMatchingIds(r),s=this._getItemsFromIds(i),o=t.filter(s,this._matcher(r));o.sort(this._ranker);n&&n(o);o.length<this.limit&&this.queryUrl&&this.transport.get(this.queryUrl,e,this._processRemoteSuggestions(n,o))}});return n}(),u=function(){function e(e){var n=this;t.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.query="";this.$hint=$(e.hint);this.$input=$(e.input).on("blur",this._handleBlur).on("focus",this._handleFocus).on("keydown",this._handleSpecialKeyEvent);t.isMsie()?this.$input.on("keydown keypress cut paste",function(e){if(n.specialKeyCodeMap[e.which||e.keyCode])return;setTimeout(n._compareQueryToInputValue,0)}):this.$input.on("input",this._compareQueryToInputValue);this.$overflowHelper=r(this.$input)}function r(e){return $("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function i(e,t){e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ").toLowerCase();t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ").toLowerCase();return e===t}t.mixin(e.prototype,n,{_handleFocus:function(){this.trigger("focus")},_handleBlur:function(){this.trigger("blur")},_handleSpecialKeyEvent:function(e){var t=this.specialKeyCodeMap[e.which||e.keyCode];t&&this.trigger(t,e)},_compareQueryToInputValue:function(){var e=this.getInputValue(),t=i(this.query,e),n=t?this.query.length!==e.length:!1;n?this.trigger("whitespaceChange",{value:this.query}):t||this.trigger("queryChange",{value:this.query=e})},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e);t!==!0&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(e){this.$hint.val(e)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var e=this.$input.val().length,n=this.$input[0].selectionStart,r;if(t.isNumber(n))return n===e;if(document.selection){r=document.selection.createRange();r.moveStart("character",-e);return e===r.text.length}return!0}});return e}(),a=function(){function e(e){t.bindAll(this);this.isMouseOverDropdown;this.$menu=$(e.menu).on("mouseenter",this._handleMouseenter).on("mouseleave",this._handleMouseleave).on("mouseover",".tt-suggestions > .tt-suggestion",this._handleMouseover).on("click",".tt-suggestions > .tt-suggestion",this._handleSelection)}function r(e){var t=e.parents(".tt-suggestions").first();return{value:e.data("value"),query:t.data("query"),dataset:t.data("dataset")}}t.mixin(e.prototype,n,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(e){this._getSuggestions().removeClass("tt-is-under-cursor");$(e.currentTarget).addClass("tt-is-under-cursor")},_handleSelection:function(e){this.trigger("select",r($(e.currentTarget)))},_moveCursor:function(e){var t,n,r,i;if(!this.$menu.hasClass("tt-is-open"))return;t=this._getSuggestions();n=t.filter(".tt-is-under-cursor");n.removeClass("tt-is-under-cursor");r=t.index(n)+e;r=(r+1)%(t.length+1)-1;if(r===-1){this.trigger("cursorOff");return}r<-1&&(r=t.length-1);i=t.eq(r).addClass("tt-is-under-cursor");this.trigger("cursorOn",{value:i.data("value")})},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},hideUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.hide()},hide:function(){if(this.$menu.hasClass("tt-is-open")){this.$menu.removeClass("tt-is-open").find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");this.trigger("hide")}},show:function(){if(!this.$menu.hasClass("tt-is-open")){this.$menu.addClass("tt-is-open");this.trigger("show")}},isOpen:function(){return this.$menu.hasClass("tt-is-open")},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var e=this._getSuggestions().filter(".tt-is-under-cursor").first();return e.length>0?r(e):null},getFirstSuggestion:function(){var e=this._getSuggestions().first();return e.length>0?r(e):null},renderSuggestions:function(e,n,r){var i="tt-dataset-"+n.name,s=this.$menu.find("."+i),o,u,a;s.length===0&&(s=$('<li><ol class="tt-suggestions"></ol></li>').addClass(i).appendTo(this.$menu));o=document.createElement("div");u=document.createDocumentFragment();this.clearSuggestions(n.name);if(r.length>0){this.$menu.removeClass("tt-is-empty");t.each(r,function(e,t){o.innerHTML=n.template.render(t);a=o.firstChild;a.setAttribute("data-value",t.value);u.appendChild(a)})}s.find("> .tt-suggestions").data({query:e,dataset:n.name}).append(u);this.trigger("suggestionsRender")},clearSuggestions:function(e){var t=e?this.$menu.find(".tt-dataset-"+e+" .tt-suggestions"):this.$menu.find(".tt-suggestions");t.empty();this._getSuggestions().length===0&&this.$menu.addClass("tt-is-empty")}});return e}(),f=function(){function r(e){t.bindAll(this);this.$node=i(e.input);this.datasets=e.datasets;t.each(this.datasets,function(e,t){var n='<li class="tt-suggestion">%body</li>';t.template?t.template=t.engine.compile(n.replace("%body",t.template)):t.template={render:function(e){return n.replace("%body","<p>"+e.value+"</p>")}}});this.inputView=new u({input:this.$node.find(".tt-query"),hint:this.$node.find(".tt-hint")});this.dropdownView=new a({menu:this.$node.find(".tt-dropdown-menu")});this.dropdownView.on("select",this._handleSelection).on("cursorOn",this._clearHint).on("cursorOn",this._setInputValueToSuggestionUnderCursor).on("cursorOff",this._setInputValueToQuery).on("cursorOff",this._updateHint).on("suggestionsRender",this._updateHint).on("show",this._updateHint).on("hide",this._clearHint);this.inputView.on("focus",this._showDropdown).on("blur",this._hideDropdown).on("blur",this._setInputValueToQuery).on("enter",this._handleSelection).on("queryChange",this._clearHint).on("queryChange",this._clearSuggestions).on("queryChange",this._getSuggestions).on("whitespaceChange",this._updateHint).on("queryChange whitespaceChange",this._showDropdown).on("queryChange whitespaceChange",this._setLanguageDirection).on("esc",this._hideDropdown).on("esc",this._setInputValueToQuery).on("tab up down",this._managePreventDefault).on("up down",this._moveDropdownCursor).on("up down",this._showDropdown).on("tab left right",this._autocomplete)}function i(t){var n=$(t),r=$(e.hint).css({"background-color":n.css("background-color")});if(n.length===0)return null;try{!n.attr("dir")&&n.attr("dir","auto")}catch(i){}return n.attr({autocomplete:"off",spellcheck:!1}).addClass("tt-query").wrap(e.wrapper).parent().prepend(r).append(e.dropdown)}var e={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="false" disabled>',dropdown:'<ol class="tt-dropdown-menu tt-is-empty"></ol>'};t.mixin(r.prototype,n,{_managePreventDefault:function(e){var t=e.data,n,r,i=!1;switch(e.type){case"tab":n=this.inputView.getHintValue();r=this.inputView.getInputValue();i=n&&n!==r;break;case"up":case"down":i=!t.shiftKey&&!t.ctrlKey&&!t.metaKey}i&&t.preventDefault()},_setLanguageDirection:function(){var e="tt-"+this.inputView.getLanguageDirection();this.$node.hasClass(e)||this.$node.removeClass("tt-ltr tt-rtl").addClass(e)},_updateHint:function(){var e=this.dropdownView.getFirstSuggestion(),t=e?e.value:null,n,r,i,s;if(t&&this.dropdownView.isOpen()&&!this.inputView.isOverflow()){n=this.inputView.getInputValue();r=n.replace(/\s{2,}/g," ").replace(/^\s+/g,"");i=new RegExp("^(?:"+r+")(.*$)","i");s=i.exec(t);this.inputView.setHintValue(n+(s?s[1]:""))}},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(e){var t=e.data;this.inputView.setInputValue(t.value,!0)},_showDropdown:function(){this.dropdownView.show()},_hideDropdown:function(e){this.dropdownView[e.type==="blur"?"hideUnlessMouseIsOverDropdown":"hide"]()},_moveDropdownCursor:function(e){var t=e.data;!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this.dropdownView[e.type==="up"?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(e){var n=e.type==="select",r=n?e.data:this.dropdownView.getSuggestionUnderCursor();if(r){this.inputView.setInputValue(r.value);n?this.inputView.focus():e.data.preventDefault();n&&t.isMsie()?setTimeout(this.dropdownView.hide,0):this.dropdownView.hide()}},_getSuggestions:function(){var e=this,n=this.inputView.getQuery();t.each(this.datasets,function(t,r){r.getSuggestions(n,function(t){e._renderSuggestions(n,r,t)})})},_renderSuggestions:function(e,t,n){if(e!==this.inputView.getQuery())return;n=n.slice(0,t.limit);this.dropdownView.renderSuggestions(e,t,n)},_autocomplete:function(e){var t,n,r,i;if(e.type==="right"||e.type==="left"){t=this.inputView.isCursorAtEnd();n=this.inputView.getLanguageDirection()==="ltr"?e.type==="left":e.type==="right";if(!t||n)return}r=this.inputView.getQuery();i=this.inputView.getHintValue();i!==""&&r!==i&&this.inputView.setInputValue(i)}});return r}();(function(){function u(e){return i[e]?i[e].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)}function a(e){n=e}var e={},n={},r,i;jQuery.fn.typeahead=u;u.configureTransport=a;i={initialize:function(i){var a={};i=t.isArray(i)?i:[i];if(i.length===0)throw new Error("no datasets provided");delete u.configureTransport;r=r||new s(n);t.each(i,function(n,i){var s,u=i.name=i.name||t.getUniqueId();if(e[u])s=e[u];else{i.limit=i.limit||5;i.template=i.template;i.engine=i.engine;if(i.template&&!i.engine)throw new Error("no template engine specified for "+u);s=e[u]=new o({name:i.name,limit:i.limit,local:i.local,prefetch:i.prefetch,ttl_ms:i.ttl_ms,remote:i.remote,matcher:i.matcher,ranker:i.ranker,transport:r})}a[u]={name:i.name,limit:i.limit,template:i.template,engine:i.engine,getSuggestions:s.getSuggestions}});return this.each(function(){$(this).data({typeahead:new f({input:this,datasets:a})})})}}})()})();var Hogan={};(function(e,t){function a(e){return String(e===null||e===undefined?"":e)}function f(e){e=a(e);return u.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(s,"&#39;").replace(o,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r;this.c=r;this.options=i;this.text=n||"";this.buf=t?[]:""};e.Template.prototype={r:function(e,t,n){return""},v:f,t:a,render:function(t,n,r){return this.ri([t],n||{},r)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];if(!i)return"";this.c&&typeof i=="string"&&(i=this.c.compile(i,this.options));return i.ri(t,n,r)},rs:function(e,t,n){var r=e[e.length-1];if(!l(r)){n(e,t,this);return}for(var i=0;i<r.length;i++){e.push(r[i]);n(e,t,this);e.pop()}},s:function(e,t,n,r,i,s,o){var u;if(l(e)&&e.length===0)return!1;typeof e=="function"&&(e=this.ls(e,t,n,r,i,s,o));u=e===""||!!e;!r&&u&&t&&t.push(typeof e=="object"?e:t[t.length-1]);return u},d:function(e,t,n,r){var i=e.split("."),s=this.f(i[0],t,n,r),o=null;if(e==="."&&l(t[t.length-2]))return t[t.length-1];for(var u=1;u<i.length;u++)if(s&&typeof s=="object"&&i[u]in s){o=s;s=s[i[u]]}else s="";if(r&&!s)return!1;if(!r&&typeof s=="function"){t.push(o);s=this.lv(s,t,n);t.pop()}return s},f:function(e,t,n,r){var i=!1,s=null,o=!1;for(var u=t.length-1;u>=0;u--){s=t[u];if(s&&typeof s=="object"&&e in s){i=s[e];o=!0;break}}if(!o)return r?!1:"";!r&&typeof i=="function"&&(i=this.lv(i,t,n));return i},ho:function(e,t,n,r,i){var s=this.c,o=this.options;o.delimiters=i;var r=e.call(t,r);r=r==null?String(r):r.toString();this.b(s.compile(r,o).render(t,n));return!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");this.buf=[];return e}:function(){var e=this.buf;this.buf="";return e},ls:function(e,t,n,r,i,s,o){var u=t[t.length-1],a=null;if(!r&&this.c&&e.length>0)return this.ho(e,u,n,this.text.substring(i,s),o);a=e.call(u);if(typeof a=="function"){if(r)return!0;if(this.c)return this.ho(a,u,n,this.text.substring(i,s),o)}return a},lv:function(e,t,n){var r=t[t.length-1],i=e.call(r);if(typeof i=="function"){i=a(i.call(r));if(this.c&&~i.indexOf("{{"))return this.c.compile(i,this.options).render(r,n)}return a(i)}};var n=/&/g,r=/</g,i=/>/g,s=/\'/g,o=/\"/g,u=/[&<>\"\']/,l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan);(function(e){function u(e){e.n.substr(e.n.length-1)==="}"&&(e.n=e.n.substring(0,e.n.length-1))}function a(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function f(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;r<i;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function l(e,t,n,r){var i=[],s=null,o=null;while(e.length>0){o=e.shift();if(o.tag=="#"||o.tag=="^"||c(o,r)){n.push(o);o.nodes=l(e,o.tag,n,r);i.push(o)}else{if(o.tag=="/"){if(n.length===0)throw new Error("Closing tag without opener: /"+o.n);s=n.pop();if(o.n!=s.n&&!h(o.n,s.n,r))throw new Error("Nesting error: "+s.n+" vs. "+o.n);s.end=o.i;return i}i.push(o)}}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return i}function c(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n){e.tag="#";return!0}}function h(e,t,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==e&&n[r].o==t)return!0}function p(e){return e.replace(s,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r")}function d(e){return~e.indexOf(".")?"d":"f"}function v(e){var t="";for(var n=0,r=e.length;n<r;n++){var i=e[n].tag;i=="#"?t+=m(e[n].nodes,e[n].n,d(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):i=="^"?t+=g(e[n].nodes,e[n].n,d(e[n].n)):i=="<"||i==">"?t+=y(e[n]):i=="{"||i=="&"?t+=b(e[n].n,d(e[n].n)):i=="\n"?t+=E('"\\n"'+(e.length-1==n?"":" + i")):i=="_v"?t+=w(e[n].n,d(e[n].n)):i===undefined&&(t+=E('"'+p(e[n])+'"'))}return t}function m(e,t,n,r,i,s){return"if(_.s(_."+n+'("'+p(t)+'",c,p,1),'+"c,p,0,"+r+","+i+',"'+s+'")){'+"_.rs(c,p,"+"function(c,p,_){"+v(e)+"});c.pop();}"}function g(e,t,n){return"if(!_.s(_."+n+'("'+p(t)+'",c,p,1),c,p,1,0,0,"")){'+v(e)+"};"}function y(e){return'_.b(_.rp("'+p(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function b(e,t){return"_.b(_.t(_."+t+'("'+p(e)+'",c,p,0)));'}function w(e,t){return"_.b(_.v(_."+t+'("'+p(e)+'",c,p,0)));'}function E(e){return"_.b("+e+");"}var t=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,s=/\\/g,o={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(n,r){function S(){if(v.length>0){m.push(new String(v));v=""}}function x(){var e=!0;for(var n=b;n<m.length;n++){e=m[n].tag&&o[m[n].tag]<o._v||!m[n].tag&&m[n].match(t)===null;if(!e)return!1}return e}function T(e,t){S();if(e&&x()){for(var n=b,r;n<m.length;n++)if(!m[n].tag){(r=m[n+1])&&r.tag==">"&&(r.indent=m[n].toString());m.splice(n,1)}}else t||m.push({tag:"\n"});g=!1;b=m.length}function N(e,t){var n="="+E,r=e.indexOf(n,t),i=a(e.substring(e.indexOf("=",t)+1,r)).split(" ");w=i[0];E=i[1];return r+n.length-1}var i=n.length,s=0,l=1,c=2,h=s,p=null,d=null,v="",m=[],g=!1,y=0,b=0,w="{{",E="}}";if(r){r=r.split(" ");w=r[0];E=r[1]}for(y=0;y<i;y++)if(h==s)if(f(w,n,y)){--y;S();h=l}else n.charAt(y)=="\n"?T(g):v+=n.charAt(y);else if(h==l){y+=w.length-1;d=o[n.charAt(y+1)];p=d?n.charAt(y+1):"_v";if(p=="="){y=N(n,y);h=s}else{d&&y++;h=c}g=y}else if(f(E,n,y)){m.push({tag:p,n:a(v),otag:w,ctag:E,i:p=="/"?g-E.length:y+w.length});v="";y+=E.length-1;h=s;p=="{"&&(E=="}}"?y++:u(m[m.length-1]))}else v+=n.charAt(y);T(g,!0);return m};e.generate=function(t,n,r){var i='var _=this;_.b(i=i||"");'+v(t)+"return _.fl();";return r.asString?"function(c,p,i){"+i+";}":new e.Template(new Function("c","p","i",i),n,e,r)};e.parse=function(e,t,n){n=n||{};return l(e,"",[],n.sectionTags||[])},e.cache={};e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,r=this.cache[n];if(r)return r;r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t);return this.cache[n]=r}})(typeof exports!="undefined"?exports:Hogan);(function(e,t,n){"use strict";e.fn.foundationAlerts=function(t){var n=e.extend({callback:e.noop},t);e(document).on("click",".alert-box a.close",function(t){t.preventDefault();e(this).closest(".alert-box").fadeOut(function(){e(this).remove();n.callback()})})}})(jQuery,this);(function(e,t,n){"use strict";var r={bodyHeight:0,selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",tipTemplate:function(e,t){return'<span data-selector="'+e+'" class="'+r.tooltipClass.substring(1)+'">'+t+'<span class="nub"></span></span>'}},i={init:function(t){r=e.extend(r,t);r.selector=r.targetClass?r.targetClass:r.selector;return this.each(function(){var t=e("body");if(Modernizr.touch){t.on("click.tooltip touchstart.tooltip touchend.tooltip",r.selector,function(t){t.preventDefault();e(r.tooltipClass).hide();i.showOrCreateTip(e(this))});t.on("click.tooltip touchstart.tooltip touchend.tooltip",r.tooltipClass,function(t){t.preventDefault();e(this).fadeOut(150)})}else t.on("mouseenter.tooltip mouseleave.tooltip",r.selector,function(t){var n=e(this);t.type==="mouseenter"?i.showOrCreateTip(n):t.type==="mouseleave"&&i.hide(n)});e(this).data("tooltips",!0)})},showOrCreateTip:function(e,t){var n=i.getTip(e);n&&n.length>0?i.show(e):i.create(e,t)},getTip:function(t){var n=i.selector(t),s=null;n&&(s=e("span[data-selector="+n+"]"+r.tooltipClass));return s.length>0?s:!1},selector:function(e){var t=e.attr("id"),r=e.data("selector");if(t===n&&r===n){r="tooltip"+Math.random().toString(36).substring(7);e.attr("data-selector",r)}return t?t:r},create:function(t,n){var s=e(r.tipTemplate(i.selector(t),e("<div>").html(n?n:t.attr("title")).html())),o=i.inheritable_classes(t);s.addClass(o).appendTo("body");Modernizr.touch&&s.append('<span class="tap-to-close">tap to close </span>');t.removeAttr("title");i.show(t)},reposition:function(n,r,i){var s,o,u,a,f,l;r.css("visibility","hidden").show();s=n.data("width");o=r.children(".nub");u=o.outerHeight();a=o.outerWidth();l=function(e,t,n,r,i,s){return e.css({top:t,bottom:r,left:i,right:n,"max-width":s?s:"auto"}).end()};l(r,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left,s);l(o,-u,"auto","auto",10);if(e(t).width()<767){f=n.closest(".columns");f.length<0&&(f=e("body"));r.width(f.outerWidth()-25).css("left",15).addClass("tip-override");l(o,-u,"auto","auto",n.offset().left)}else if(i&&i.indexOf("tip-top")>-1){l(r,n.offset().top-r.outerHeight()-u,"auto","auto",n.offset().left,s).removeClass("tip-override");l(o,"auto","auto",-u,"auto")}else if(i&&i.indexOf("tip-left")>-1){l(r,n.offset().top+n.outerHeight()/2-u,"auto","auto",n.offset().left-r.outerWidth()-10,s).removeClass("tip-override");l(o,r.outerHeight()/2-u/2,-u,"auto","auto")}else if(i&&i.indexOf("tip-right")>-1){l(r,n.offset().top+n.outerHeight()/2-u,"auto","auto",n.offset().left+n.outerWidth()+10,s).removeClass("tip-override");l(o,r.outerHeight()/2-u/2,"auto","auto",-u)}else if(i&&i.indexOf("tip-centered-top")>-1){l(r,n.offset().top-r.outerHeight()-u,"auto","auto",n.offset().left+(n.outerWidth()-r.outerWidth())/2,s).removeClass("tip-override");l(o,"auto",r.outerWidth()/2-u/2,-u,"auto")}else if(i&&i.indexOf("tip-centered-bottom")>-1){l(r,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left+(n.outerWidth()-r.outerWidth())/2,s).removeClass("tip-override");l(o,-u,r.outerWidth()/2-u/2,"auto","auto")}r.css("visibility","visible").hide()},inheritable_classes:function(t){var n=["tip-top","tip-left","tip-bottom","tip-right","tip-centered-top","tip-centered-bottom","noradius"].concat(r.additionalInheritableClasses),i=t.attr("class"),s=i?e.map(i.split(" "),function(t,r){if(e.inArray(t,n)!==-1)return t}).join(" "):"";return e.trim(s)},show:function(e){var t=i.getTip(e);i.reposition(e,t,e.attr("class"));t.fadeIn(150)},hide:function(e){var t=i.getTip(e);t.fadeOut(150)},reload:function(){var t=e(this);return t.data("tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},destroy:function(){return this.each(function(){e(t).off(".tooltip");e(r.selector).off(".tooltip");e(r.tooltipClass).each(function(t){e(e(r.selector).get(t)).attr("title",e(this).text())}).remove()})}};e.fn.foundationTooltips=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTooltips")}})(jQuery,this);(function(e,t,n){"use strict";var r={index:0,initialized:!1},i={init:function(n){return this.each(function(){r=e.extend(r,n);r.$w=e(t),r.$topbar=e("nav.top-bar"),r.$section=r.$topbar.find("section"),r.$titlebar=r.$topbar.children("ul:first");var s=e("<div class='top-bar-js-breakpoint'/>").appendTo("body");r.breakPoint=s.width();s.remove();if(!r.initialized){i.assemble();r.initialized=!0}r.height||i.largestUL();r.$topbar.parent().hasClass("fixed")&&e("body").css("padding-top",r.$topbar.outerHeight());e(".top-bar .toggle-topbar").off("click.fndtn").on("click.fndtn",function(e){e.preventDefault();if(i.breakpoint()){r.$topbar.toggleClass("expanded");r.$topbar.css("min-height","")}if(!r.$topbar.hasClass("expanded")){r.$section.css({left:"0%"});r.$section.find(">.name").css({left:"100%"});r.$section.find("li.moved").removeClass("moved");r.index=0}});e(".top-bar .has-dropdown>a").off("click.fndtn").on("click.fndtn",function(t){(Modernizr.touch||i.breakpoint())&&t.preventDefault();if(i.breakpoint()){var n=e(this),s=n.closest("li");r.index+=1;s.addClass("moved");r.$section.css({left:-(100*r.index)+"%"});r.$section.find(">.name").css({left:100*r.index+"%"});n.siblings("ul").height(r.height+r.$titlebar.outerHeight(!0));r.$topbar.css("min-height",r.height+r.$titlebar.outerHeight(!0)*2)}});e(t).on("resize.fndtn.topbar",function(){i.breakpoint()||r.$topbar.css("min-height","")});e(".top-bar .has-dropdown .back").off("click.fndtn").on("click.fndtn",function(t){t.preventDefault();var n=e(this),i=n.closest("li.moved"),s=i.parent();r.index-=1;r.$section.css({left:-(100*r.index)+"%"});r.$section.find(">.name").css({left:100*r.index+"%"});r.index===0&&r.$topbar.css("min-height",0);setTimeout(function(){i.removeClass("moved")},300)})})},breakpoint:function(){return r.$w.width()<=r.breakPoint},assemble:function(){r.$section.detach();r.$section.find(".has-dropdown>a").each(function(){var t=e(this),n=t.siblings(".dropdown"),r=e('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');r.find("h5>a").html(t.html());n.prepend(r)});r.$section.appendTo(r.$topbar)},largestUL:function(){var t=r.$topbar.find("section ul ul"),n=t.first(),i=0;t.each(function(){e(this).children("li").length>n.children("li").length&&(n=e(this))});n.children("li").each(function(){i+=e(this).outerHeight(!0)});r.height=i}};e.fn.foundationTopBar=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTopBar")};if(e(".sticky").length>0){var s=e(".sticky").length?e(".sticky").offset().top:0,o=e(t),u=e("nav.top-bar").outerHeight()+20;o.scroll(function(){if(o.scrollTop()>=s){e(".sticky").addClass("fixed");e("body").css("padding-top",u)}else if(o.scrollTop()<s){e(".sticky").removeClass("fixed");e("body").css("padding-top","0")}})}})(jQuery,this);(function(e,t,n){"use strict";var r={version:"2.0.3",tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,tipContainer:"body",postRideCallback:e.noop,postStepCallback:e.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>'}},i=i||!1,s={},o={init:function(n){return this.each(function(){if(e.isEmptyObject(s)){s=e.extend(!0,r,n);s.document=t.document;s.$document=e(s.document);s.$window=e(t);s.$content_el=e(this);s.body_offset=e(s.tipContainer).position();s.$tip_content=
e("> li",s.$content_el);s.paused=!1;s.attempts=0;s.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]};o.jquery_check();e.isFunction(e.cookie)||(s.cookieMonster=!1);if(!s.cookieMonster||!e.cookie(s.cookieName)){s.$tip_content.each(function(t){o.create({$li:e(this),index:t})});if(!s.startTimerOnClick&&s.timer>0){o.show("init");o.startTimer()}else o.show("init")}s.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault();if(s.$li.next().length<1)o.end();else if(s.timer>0){clearTimeout(s.automate);o.hide();o.show();o.startTimer()}else{o.hide();o.show()}});s.$document.on("click.joyride",".joyride-close-tip",function(e){e.preventDefault();o.end()});s.$window.bind("resize.joyride",function(e){o.is_phone()?o.pos_phone():o.pos_default()})}else o.restart()})},resume:function(){o.set_li();o.show()},tip_template:function(t){var n,r;t.tip_class=t.tip_class||"";n=e(s.template.tip).addClass(t.tip_class);r=e.trim(e(t.li).html())+o.button_text(t.button_text)+s.template.link+o.timer_instance(t.index);n.append(e(s.template.wrapper));n.first().attr("data-index",t.index);e(".joyride-content-wrapper",n).append(r);return n[0]},timer_instance:function(t){var n;t===0&&s.startTimerOnClick&&s.timer>0||s.timer===0?n="":n=o.outerHTML(e(s.template.timer)[0]);return n},button_text:function(t){if(s.nextButton){t=e.trim(t)||"Next";t=o.outerHTML(e(s.template.button).append(t)[0])}else t="";return t},create:function(t){var n=t.$li.attr("data-button")||t.$li.attr("data-text"),r=t.$li.attr("class"),i=e(o.tip_template({tip_class:r,index:t.index,button_text:n,li:t.$li}));e(s.tipContainer).append(i)},show:function(t){var r={},i,u=[],a=0,f,l=null;if(s.$li===n||e.inArray(s.$li.index(),s.pauseAfter)===-1){s.paused?s.paused=!1:o.set_li(t);s.attempts=0;if(s.$li.length&&s.$target.length>0){u=(s.$li.data("options")||":").split(";");a=u.length;for(i=a-1;i>=0;i--){f=u[i].split(":");f.length===2&&(r[e.trim(f[0])]=e.trim(f[1]))}s.tipSettings=e.extend({},s,r);s.tipSettings.tipLocationPattern=s.tipLocationPatterns[s.tipSettings.tipLocation];/body/i.test(s.$target.selector)||o.scroll_to();o.is_phone()?o.pos_phone(!0):o.pos_default(!0);l=e(".joyride-timer-indicator",s.$next_tip);if(/pop/i.test(s.tipAnimation)){l.outerWidth(0);if(s.timer>0){s.$next_tip.show();l.animate({width:e(".joyride-timer-indicator-wrap",s.$next_tip).outerWidth()},s.timer)}else s.$next_tip.show()}else if(/fade/i.test(s.tipAnimation)){l.outerWidth(0);if(s.timer>0){s.$next_tip.fadeIn(s.tipAnimationFadeSpeed);s.$next_tip.show();l.animate({width:e(".joyride-timer-indicator-wrap",s.$next_tip).outerWidth()},s.timer)}else s.$next_tip.fadeIn(s.tipAnimationFadeSpeed)}s.$current_tip=s.$next_tip}else s.$li&&s.$target.length<1?o.show():o.end()}else s.paused=!0},is_phone:function(){return i?i.mq("only screen and (max-width: 767px)"):s.$window.width()<767?!0:!1},hide:function(){s.postStepCallback(s.$li.index(),s.$current_tip);e(".joyride-modal-bg").hide();s.$current_tip.hide()},set_li:function(e){if(e){s.$li=s.$tip_content.eq(s.startOffset);o.set_next_tip();s.$current_tip=s.$next_tip}else{s.$li=s.$li.next();o.set_next_tip()}o.set_target()},set_next_tip:function(){s.$next_tip=e(".joyride-tip-guide[data-index="+s.$li.index()+"]")},set_target:function(){var t=s.$li.attr("data-class"),n=s.$li.attr("data-id"),r=function(){return n?e(s.document.getElementById(n)):t?e("."+t).first():e("body")};s.$target=r()},scroll_to:function(){var t,n;t=s.$window.height()/2;n=Math.ceil(s.$target.offset().top-t+s.$next_tip.outerHeight());e("html, body").stop().animate({scrollTop:n},s.scrollSpeed)},paused:function(){return e.inArray(s.$li.index()+1,s.pauseAfter)===-1?!0:!1},destroy:function(){s.$document.off(".joyride");e(t).off(".joyride");e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride");e(".joyride-tip-guide, .joyride-modal-bg").remove();clearTimeout(s.automate);s={}},restart:function(){o.hide();s.$li=n;o.show("init")},pos_default:function(t){var n=Math.ceil(s.$window.height()/2),r=s.$next_tip.offset(),i=e(".joyride-nub",s.$next_tip),u=Math.ceil(i.outerHeight()/2),a=t||!1;if(a){s.$next_tip.css("visibility","hidden");s.$next_tip.show()}if(!/body/i.test(s.$target.selector)){if(o.bottom()){s.$next_tip.css({top:s.$target.offset().top+u+s.$target.outerHeight(),left:s.$target.offset().left});o.nub_position(i,s.tipSettings.nubPosition,"top")}else if(o.top()){s.$next_tip.css({top:s.$target.offset().top-s.$next_tip.outerHeight()-u,left:s.$target.offset().left});o.nub_position(i,s.tipSettings.nubPosition,"bottom")}else if(o.right()){s.$next_tip.css({top:s.$target.offset().top,left:s.$target.outerWidth()+s.$target.offset().left});o.nub_position(i,s.tipSettings.nubPosition,"left")}else if(o.left()){s.$next_tip.css({top:s.$target.offset().top,left:s.$target.offset().left-s.$next_tip.outerWidth()-u});o.nub_position(i,s.tipSettings.nubPosition,"right")}if(!o.visible(o.corners(s.$next_tip))&&s.attempts<s.tipSettings.tipLocationPattern.length){i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");s.tipSettings.tipLocation=s.tipSettings.tipLocationPattern[s.attempts];s.attempts++;o.pos_default(!0)}}else s.$li.length&&o.pos_modal(i);if(a){s.$next_tip.hide();s.$next_tip.css("visibility","visible")}},pos_phone:function(t){var n=s.$next_tip.outerHeight(),r=s.$next_tip.offset(),i=s.$target.outerHeight(),u=e(".joyride-nub",s.$next_tip),a=Math.ceil(u.outerHeight()/2),f=t||!1;u.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");if(f){s.$next_tip.css("visibility","hidden");s.$next_tip.show()}if(!/body/i.test(s.$target.selector))if(o.top()){s.$next_tip.offset({top:s.$target.offset().top-n-a});u.addClass("bottom")}else{s.$next_tip.offset({top:s.$target.offset().top+i+a});u.addClass("top")}else s.$li.length&&o.pos_modal(u);if(f){s.$next_tip.hide();s.$next_tip.css("visibility","visible")}},pos_modal:function(t){o.center();t.hide();e(".joyride-modal-bg").length<1&&e("body").append('<div class="joyride-modal-bg">').show();/pop/i.test(s.tipAnimation)?e(".joyride-modal-bg").show():e(".joyride-modal-bg").fadeIn(s.tipAnimationFadeSpeed)},center:function(){var e=s.$window;s.$next_tip.css({top:(e.height()-s.$next_tip.outerHeight())/2+e.scrollTop(),left:(e.width()-s.$next_tip.outerWidth())/2+e.scrollLeft()});return!0},bottom:function(){return/bottom/i.test(s.tipSettings.tipLocation)},top:function(){return/top/i.test(s.tipSettings.tipLocation)},right:function(){return/right/i.test(s.tipSettings.tipLocation)},left:function(){return/left/i.test(s.tipSettings.tipLocation)},corners:function(e){var t=s.$window,n=t.width()+t.scrollLeft(),r=t.width()+t.scrollTop();return[e.offset().top<=t.scrollTop(),n<=e.offset().left+e.outerWidth(),r<=e.offset().top+e.outerHeight(),t.scrollLeft()>=e.offset().left]},visible:function(e){var t=e.length;while(t--)if(e[t])return!1;return!0},nub_position:function(e,t,n){t==="auto"?e.addClass(n):e.addClass(t)},startTimer:function(){s.$li.length?s.automate=setTimeout(function(){o.hide();o.show();o.startTimer()},s.timer):clearTimeout(s.automate)},end:function(){s.cookieMonster&&e.cookie(s.cookieName,"ridden",{expires:365,domain:s.cookieDomain});s.timer>0&&clearTimeout(s.automate);e(".joyride-modal-bg").hide();s.$current_tip.hide();s.postStepCallback(s.$li.index(),s.$current_tip);s.postRideCallback(s.$li.index(),s.$current_tip)},jquery_check:function(){if(!e.isFunction(e.fn.on)){e.fn.on=function(e,t,n){return this.delegate(t,e,n)};e.fn.off=function(e,t,n){return this.undelegate(t,e,n)};return!1}return!0},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},version:function(){return s.version}};e.fn.joyride=function(t){if(o[t])return o[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return o.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.joyride")}})(jQuery,this);var SE=SE||{};window.SE.getCookie=function(e){var t=null;if(document.cookie&&document.cookie!==""){var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=jQuery.trim(n[r]);if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}}return t};window.SE.csrfSafeMethod=function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)};$.ajaxSetup({crossDomain:!1,beforeSend:function(e,t){window.SE.csrfSafeMethod(t.type)||e.setRequestHeader("X-CSRFToken",window.SE.getCookie("csrftoken"))}});window.SE.Search={pollAddMoreLinkTimeoutSet:!1,getMoreLink:function(e){return'<li class="tt-suggestion more-link" data-value="'+e+'"><p class="artist-name" data-url="/search/?q='+e+'">See more results for '+e+"</p></li>"},pollAddMoreLink:function(e){var t=$($(e).parents().first());if(t.find(".tt-suggestion").length>0){t.find(".more-link").length===0&&t.find("ol.tt-suggestions").append(window.SE.Search.getMoreLink($(e).val()));window.clearTimeout(window.SE.Search.pollAddMoreLink);window.SE.Search.pollAddMoreLinkTimeoutSet=!1}else window.setTimeout(window.SE.Search.pollAddMoreLink,50,e)}};jQuery(document).ready(function(e){e(document).foundationAlerts();e(document).foundationTooltips();e(document).foundationTopBar();e(".typeahead-search").each(function(){e(this).typeahead({name:"artists",remote:"/search/autocomplete/?q=%QUERY",limit:3,template:['<div class="artist-image" style="background-image:url(\'{{img}}\')"></div><p class="artist-name" data-url="{{url}}">{{value}}</p>'],engine:window.Hogan});var t=e(".header-search").width();e(".header-search").find(".tt-dropdown-menu").css("width",t+"px")});e(".typeahead-search").on("keydown",function(e){if(!window.SE.Search.pollAddMoreLinkTimeoutSet){window.SE.Search.pollAddMoreLinkTimeoutSet=!0;window.setTimeout(window.SE.Search.pollAddMoreLink,50,this)}});e(".typeahead-search").on("keydown",function(t){t.which===13&&e(this).parents("form").first().submit()});e(".typeahead-search").on("keyup",function(t){var n=e(e(this).parents().first()),r=n.find(".tt-is-under-cursor");e(r).hasClass("more-link")?e(n).parents().find(".lucky-hidden").val("false"):e(n).parents().find(".lucky-hidden").val("true")});e(document).on("click",".tt-suggestion",function(t){var n=e(this).find("p.artist-name").data("url");window.location.href=n});e(document).on("focus keydown",".typeahead-search",function(t){e("ol.tt-suggestions li.tt-suggestion:first-child").addClass("visited")});e(document).on("focus",".typeahead-search",function(t){e("ol.tt-suggestions li.tt-suggestion:first-child").addClass("tt-is-under-cursor")});e(document).on("mouseover","ol.tt-suggestions li.tt-suggestion",function(){e(e(this).parents().first()).find("li.tt-suggestion:first-child").addClass("visited")});e(window).resize(function(){var t=e(".header-search").width();e(".header-search").find(".tt-dropdown-menu").css("width",t+"px")});e(".see-more-trophies").on("click",function(t){e(".trophy").removeClass("hidden");e(this).hide()});e(".tutorial-link").on("click",function(t){e("#joyride").joyride();t.preventDefault()})});